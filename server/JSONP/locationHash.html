<html>
<head>
  <title>chenio.com</title>
  <h4> iframe结合location.hash进行跨域数据获取</h4>
</head>
<body>
  <script>

    function startRequest() {
      var ifr = document.createElement('iframe');
      ifr.style.display = 'none';
      ifr.src = 'http://api.chenio.com/locationHash.html#paramdo';
      document.body.appendChild(ifr);
    }
    startRequest();
    function checkHash() {
      try {
        var data = location.hash ? location.hash.substring(1) : '';
        if (console.log) {
          console.log('Now the data is ' + data);
        }
      } catch (e) { };
    }
    setInterval(checkHash, 2000);
  </script>
</body>
</html>