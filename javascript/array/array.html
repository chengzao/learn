<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>array</title>
</head>

<body>

</body>
<script>
    //  new set  and  Array.from
    Array.prototype.unique = function () {
        return Array.from(new Set(this));
    }
    // {} 查找对象中的key是否存在来判断
    Array.prototype.unique = function () {
        var json = {};
        var result = [];
        this.forEach(function (value) {
            // 判断数组中的类型
            var type = Object.prototype.toString.call(value).match(/\s(\w+)/)[1].toLowerCase();
            // 根据类型判断该数组中的项是否在json中
            if (!((type + '-' + value) in json)) {
                json[type + '-' + value] = true;
                result.push(value);
            }
        })
        return result;
    }

    // filter : val arr
    Array.prototype.unique = function () {
        var sortArr = this.sort();
        return sortArr.filter(function (v, i, context) {
            return v !== context[i + 1];
        })
    }

    //forEach and includes
    Array.prototype.unique = function () {
        var result = [];
        this.forEach(function (v) {
            if (!result.includes(v)) {
                result.push(v);
            }
        })
        return result;
    }

    // splice 
    Array.prototype.unique = function () {
        var sortArr = this.sort(),
            i = 0;
        for (; i < sortArr.length; i++) {
            if (sortArr[i] === sortArr[i + 1]) {
                sortArr.splice(i, 1);
                i--;
            }
        }
        return sortArr;
    }

    // reduce : preVal CurVal
    Array.prototype.unique = function () {
        var sortArr = this.sort(),
            result = [];
        sortArr.reduce((v1, v2) => {
            if (v1 !== v2) {
                result.push(v1);
            }
            return v2;
        })
        result.push(sortArr[sortArr.length - 1]);
        return result;
    }

    console.log([1, 3, 2, "6", 3, 6, 7, 9].unique())
</script>

</html>