<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>class target name</title>
</head>

<body>

</body>
<script type="text/javascript">
    {
        class Rectangle {
            constructor(length, width) {
                console.log('new.target ->', new.target.name, ':', new.target === Rectangle);
                if (new.target === Rectangle) {
                    throw new Error('本类不能实例化');
                }
            }
        }

        class Square extends Rectangle {
            constructor(length) {
                super(length, length);
            }
        }

        var obj = new Square(); // 输出 false
        try {
            var obj2 = new Rectangle();
        } catch (e) {
            console.log(e)
        }

    }
    {
        class ParentClass {
            constructor(name) {
                console.log("new.target.name", new.target.name)
                this.name = name;
            }

            static sayHello() {
                console.log("I'm parent!" + this.name);
            }

            static testFunc() {
                console.log('emm...Parent test static Func')
            }
        }

        class SubClass extends ParentClass {
            constructor(name) {
                console.log("new.target.name", new.target.name)
                super(name);
            }

            sayChildHello() {
                console.log("I'm child " + this.name)
            }

            static sayHello() {
                console.log("override parent method !,I'm sayHello Method")
            }

            static testFunc2() {
                console.log(super.testFunc() + 'fsdafasdf');
            }
        }

        // 如果在一个方法前，加上static关键字，就表示该方法不会被实例继承，
        // 而是直接通过类来调用，这就称为“静态方法”
        ParentClass.sayHello(); // success print
        let a = new ParentClass('test');
        //a.sayHello() // throw error

        SubClass.sayHello(); // 同名 static 可以继承且覆盖
        SubClass.testFunc2(); // 可以继承

        let testA = new SubClass('CRPER');
        testA.sayHello();  //testA.sayHello is not a function

    }

</script>

</html>