<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<title>不定参数和默认参数</title>
</head>

<body>

</body>
<script>
	'use strict';

	function containsAll(haystack) {
		for (let i = 1; i < arguments.length; i++) {
			let needle = arguments[i];
			if (haystack.indexOf(needle) === -1) {
				return false;
			}
		}
		return true;
	}

	// 函数默认参数
	// jQuery.ajax = function (url, {
	// 	async = true,
	// 	beforeSend = function () {},
	// 	cache = true,
	// 	complete = function () {},
	// 	crossDomain = false,
	// 	global = true,
	// 	// ... more config
	// }) {
	// 	// ... do stuff
	// };


	/*

	在所有函数参数中，只有最后一个才可以被标记为不定参数。函数被调用时，不定参数前的所有参数都正常填充，任何“额外的”参数都被放进一个数组中并赋值给不定参数。如果没有额外的参数，不定参数就是一个空数组，它永远不会是undefined。
	 */

	// let str="Hello world!"

	// console.log(str.indexOf("o"))

	function containsAll2(haystack, ...needles) {
		console.log(needles); //["b", "nan"]
		for (let needle of needles) {
			if (haystack.indexOf(needle) === -1) {
				return false;
			}
			console.log(needle);
		}
		console.log(haystack);
		return true;
	}
	/*

	传递进来的第一个参数"banana"赋值给参数haystack，needles前的省略号表明它是一个不定参数，所有传递进来的其它参数都被放到一个数组中，赋值给变量needles。
	 */
	containsAll2("banana", "b", "nan")

	console.log('--------------默认参数---------------');

	function animalSentence(animals2 = "tigers", animals3 = "bears") {
		return `Lions and ${animals2} and ${animals3}! Oh my!`;
	}

	console.log(animalSentence());
	console.log(animalSentence('xiaoming'));
	console.log(animalSentence('xiaoming', 'xiaowang'));

	// 传递undefined值等效于不传值

	console.log(animalSentence('xiaoming', undefined));
	console.log(animalSentence('xiaoming', null)); //

	let x = 1;

	function f(x, y = x) {
		console.log(y * 2);
	}
	f(3);


	function bar(func = () => 'foo') {
		let foo = 'inner';
		console.log(func());
	}
	bar()

	function throwIfMissing() {
		console.log('You are missing paramter!!!');
    }

    function mustBeProvided(par = throwIfMissing()) {
		return par;
    }
    mustBeProvided();
</script>

</html>
