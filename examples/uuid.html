<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="renderer" content="webkit">
  <title>Document</title>
</head>
<body>

</body>
<script>
  function uuid() {
    var d = new Date().getTime();
    var uuid = 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
      var r = (d + Math.random() * 16) % 16 | 0;
      d = Math.floor(d / 16);
      return (c == 'x' ? r : (r & 0x7 | 0x8)).toString(16);
    });
    return uuid;
  }

  console.log(uuid())

  // 生成随机ID
  // 生成长度为11的随机字母数字字符串
  Math.random().toString(36).substring(2);
  // hg7znok52x


  // 创建过去七天的数组
  [...Array(7).keys()].map(days => new Date(Date.now() - 86400000 * days));


  var arr = [{ a: 'aa', children: [] }, { d: 'dd', children: [undefined] }, { 'b': 'bb', children: ["ccc", undefined] }]

  arr.map((item) => {
    if (item.children.length == 0) {
      delete item.children
    } else if (item.children.length > 0) {
      item.children = item.children.filter(item => {
        return item != undefined
      })
      item.children.length > 0 ? item.children : delete item.children
    }
  })

  console.log(arr)

</script>
</html>